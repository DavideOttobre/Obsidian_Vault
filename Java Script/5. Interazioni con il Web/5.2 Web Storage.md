# ğŸ“œ 5.2 Web Storage (localStorage e sessionStorage)

## Introduzione

Il **Web Storage API** permette di salvare dati nel browser dell'utente con due metodi:  
âœ… `localStorage` â†’ Memorizza dati **senza scadenza** (anche dopo la chiusura del browser).  
âœ… `sessionStorage` â†’ Memorizza dati **solo per la sessione corrente** (si cancella alla chiusura del browser).

ğŸ“Œ **PerchÃ© usare il Web Storage?**

- Alternativa ai **cookie**, piÃ¹ veloce e sicura.
- Salva **preferenze utente**, **token di autenticazione** e **dati temporanei**.
- **Non viene inviato al server** come i cookie.

---

## ğŸ”¹ 1. Salvare e recuperare dati con `localStorage`

### âœ… **Salvare un dato nel `localStorage`**

```js
localStorage.setItem("utente", "Alice");
```

ğŸ“Œ **Il dato rimane salvato anche dopo il riavvio del browser.**

---

### âœ… **Recuperare un dato salvato**

```js
let nome = localStorage.getItem("utente");
console.log(nome); // â "Alice"
```

ğŸ“Œ **Se la chiave non esiste, restituisce `null`.**

---

### âœ… **Rimuovere un dato dal `localStorage`**

```js
localStorage.removeItem("utente");
```

---

### âœ… **Cancellare tutto il `localStorage`**

```js
localStorage.clear();
```

ğŸ“Œ **Elimina tutti i dati salvati!**

---

## ğŸ”¹ 2. Salvare oggetti in `localStorage`

`localStorage` puÃ² salvare **solo stringhe**, quindi dobbiamo convertire oggetti in JSON.

### âœ… **Salvare un oggetto**

```js
let utente = { nome: "Alice", etÃ : 25 };

localStorage.setItem("utente", JSON.stringify(utente));
```

---

### âœ… **Recuperare un oggetto salvato**

```js
let dati = JSON.parse(localStorage.getItem("utente"));
console.log(dati.nome); // â "Alice"
```

ğŸ“Œ **Usiamo `JSON.stringify()` per salvare e `JSON.parse()` per leggere.**

---

## ğŸ”¹ 3. `sessionStorage`: Salvare dati temporanei

`sessionStorage` funziona come `localStorage`, ma **i dati si cancellano alla chiusura della scheda o del browser**.

### âœ… **Esempio di utilizzo**

```js
sessionStorage.setItem("token", "abc123");

let token = sessionStorage.getItem("token");
console.log(token); // â "abc123"
```

ğŸ“Œ **`sessionStorage` Ã¨ utile per dati temporanei come sessioni di login.**

---

## ğŸ”¹ 4. Controllare se il browser supporta il Web Storage

```js
if (typeof Storage !== "undefined") {
    console.log("Web Storage supportato!");
} else {
    console.log("Web Storage non supportato.");
}
```

ğŸ“Œ **Quasi tutti i browser moderni supportano il Web Storage.**

---

## ğŸ“Œ **Riepilogo**

|Metodo|Descrizione|
|---|---|
|`localStorage.setItem("chiave", valore)`|Salva un dato|
|`localStorage.getItem("chiave")`|Recupera un dato|
|`localStorage.removeItem("chiave")`|Rimuove un singolo dato|
|`localStorage.clear()`|Cancella tutti i dati salvati|
|`JSON.stringify(obj)`|Converte un oggetto in stringa JSON|
|`JSON.parse(stringa)`|Converte una stringa JSON in oggetto|
|`sessionStorage.setItem("chiave", valore)`|Salva un dato temporaneo|
|`sessionStorage.getItem("chiave")`|Recupera un dato temporaneo|

---

## Collegamenti utili

- **Prossimo argomento â†’ [[5.3 API e Fetch avanzato]]**
- **Ripassa AJAX e Fetch API â†’ [[5.1 AJAX e Fetch API]]**

---
