# ğŸ“œ 2.5 Moduli

## Introduzione

I **moduli** in JavaScript permettono di suddividere il codice in **file separati**, rendendolo piÃ¹ organizzato e riutilizzabile.  
Vantaggi dei moduli:  
âœ… Mantengono il codice pulito e modulare.  
âœ… Favoriscono il riutilizzo di funzioni e variabili.  
âœ… Migliorano la manutenibilitÃ  del progetto.

In questa sezione vedremo:

- Come creare e importare moduli
- Differenza tra `export` e `import`
- Importazioni predefinite e nominate

---

## ğŸ”¹ 1. Creare e usare un modulo

I moduli in JavaScript usano `export` per esportare variabili, funzioni o classi, e `import` per importarli in altri file.

### âœ… **Passaggi per creare un modulo:**

1ï¸âƒ£ **Creiamo un file `math.js` con funzioni esportate:**

```js
// math.js
export function somma(a, b) {
    return a + b;
}

export function moltiplica(a, b) {
    return a * b;
}
```

2ï¸âƒ£ **Importiamo e usiamo il modulo in `script.js`:**

```js
// script.js
import { somma, moltiplica } from "./math.js";

console.log(somma(5, 3)); // â 8
console.log(moltiplica(4, 2)); // â 8
```

ğŸ“Œ **Nota:**

- Il percorso `./math.js` indica che il file si trova nella stessa cartella.
- Il browser deve supportare i moduli ES6 (ES Modules).

---

## ğŸ”¹ 2. Differenza tra `export` e `import`

### âœ… **Export nominato**

Un modulo puÃ² esportare piÃ¹ funzioni, variabili o classi:

```js
// util.js
export const PI = 3.14;
export function areaCerchio(r) {
    return PI * r * r;
}
```

âœ… **Importazione nominata:**

```js
import { PI, areaCerchio } from "./util.js";

console.log(PI); // â 3.14
console.log(areaCerchio(5)); // â 78.5
```

---

### âœ… **Export di default**

Un modulo puÃ² avere un **export predefinito** (`default`), utile quando si vuole esportare un solo valore o funzione.

```js
// operazioni.js
export default function sottrai(a, b) {
    return a - b;
}
```

âœ… **Importazione di default (senza `{}`):**

```js
import sottrai from "./operazioni.js";

console.log(sottrai(10, 3)); // â 7
```

ğŸ“Œ **Nota:**

- Un file puÃ² avere **solo un export default**.
- Non serve usare `{ }` quando si importa un valore di default.

---

## ğŸ”¹ 3. Rinominare le importazioni

Se i nomi delle funzioni creano conflitti, possiamo rinominarli con `as`:

```js
import { somma as add, moltiplica as multiply } from "./math.js";

console.log(add(5, 3)); // â 8
console.log(multiply(4, 2)); // â 8
```

---

## ğŸ”¹ 4. Importare tutto con `*`

Possiamo importare **tutto** da un modulo con `*`, assegnandolo a un oggetto:

```js
import * as math from "./math.js";

console.log(math.somma(5, 3)); // â 8
console.log(math.moltiplica(4, 2)); // â 8
```

ğŸ“Œ **`math` diventa un oggetto contenente tutte le funzioni esportate.**

---

## ğŸ”¹ 5. Usare i moduli nel browser

I moduli **devono essere usati con il tag `<script type="module">`**.

### âœ… **Esempio HTML con un modulo:**

```html
<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <title>Moduli JS</title>
</head>
<body>
    <script type="module" src="script.js"></script>
</body>
</html>
```

ğŸ“Œ **Regole importanti per i moduli nel browser:**  
âœ… Devono essere eseguiti su un server (`http://` o `https://`).  
âœ… Non funzionano direttamente con `file://`.

ğŸ“Œ **Se serve testare localmente, usa `npx http-server` o `Live Server` in VS Code.**

---

## ğŸ”¹ 6. Moduli con `async` e `await`

I moduli supportano `async/await`, quindi possiamo importare dinamicamente altri file **solo quando servono**.

```js
async function caricaModulo() {
    let modulo = await import("./math.js");
    console.log(modulo.somma(4, 6)); // â 10
}

caricaModulo();
```

ğŸ“Œ **Import dinamico utile per caricare codice solo quando necessario (Lazy Loading).**

---

## ğŸ“Œ **Riepilogo**

|Metodo|Descrizione|
|---|---|
|`export`|Esporta variabili, funzioni o classi|
|`export default`|Esporta un solo valore di default|
|`import { nome }`|Importa un valore nominato|
|`import nome from`|Importa un valore di default|
|`import * as nome`|Importa tutto da un modulo|
|`import { nome as alias }`|Rinomina un'importazione|
|`await import()`|Importazione dinamica (Lazy Loading)|

---

## Collegamenti utili

- **Prossimo argomento â†’ [[3.1 Callbacks]]**
- **Ripassa Date e Time â†’ [[2.4 Date e Time]]**

---
