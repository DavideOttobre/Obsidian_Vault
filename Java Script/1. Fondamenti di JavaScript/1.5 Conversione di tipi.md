# ğŸ“œ 1.5 Conversione di tipi

## Introduzione

JavaScript converte automaticamente i tipi di dato in alcune situazioni (coercizione implicita), ma a volte Ã¨ necessario forzare la conversione (coercizione esplicita).

---

## ğŸ”¹ 1. Conversione implicita (coercizione)

La **conversione implicita** avviene automaticamente quando JS tenta di adattare i tipi ai contesti in cui vengono utilizzati.

### âœ… **Concatenazione tra stringhe e numeri**

```js
console.log("5" + 3); // â "53" (numero convertito in stringa)
console.log("5" - 3); // â 2 (stringa convertita in numero)
console.log("10" * "2"); // â 20 (entrambe le stringhe convertite in numeri)
```

ğŸ“Œ **Regole principali:**

- L'operatore `+` preferisce la **concatenazione** (se c'Ã¨ una stringa, trasforma tutto in stringa).
- Gli operatori `-`, `*`, `/`, `%` tentano la **conversione a numero**.

---

### âœ… **Booleani in operazioni matematiche**

```js
console.log(true + 1);  // â 2 (true diventa 1)
console.log(false + 1); // â 1 (false diventa 0)
console.log(true * 3);  // â 3
```

---

### âœ… **Valori "truthy" e "falsy"**

Alcuni valori sono considerati **falsy** (equivalenti a `false`) e altri **truthy** (`true`).

ğŸ“Œ **I seguenti valori sono falsy:**

```js
console.log(Boolean(0));       // â false
console.log(Boolean(""));      // â false
console.log(Boolean(null));    // â false
console.log(Boolean(undefined)); // â false
console.log(Boolean(NaN));     // â false
console.log(Boolean(false));   // â false
```

ğŸ“Œ **Tutti gli altri valori sono truthy:**

```js
console.log(Boolean(1));        // â true
console.log(Boolean("ciao"));   // â true
console.log(Boolean([]));       // â true (array vuoto)
console.log(Boolean({}));       // â true (oggetto vuoto)
console.log(Boolean("false"));  // â true (Ã¨ una stringa con testo)
```

---

## ğŸ”¹ 2. Conversione esplicita

Per evitare errori, Ã¨ meglio convertire i tipi **manualmente** usando le funzioni `String()`, `Number()`, `Boolean()`.

### âœ… **Convertire in Stringa**

```js
let numero = 100;
console.log(String(numero)); // â "100"
console.log(String(true));   // â "true"
console.log((42).toString()); // â "42"
```

---

### âœ… **Convertire in Numero**

```js
console.log(Number("123"));   // â 123 (stringa â†’ numero)
console.log(Number("abc"));   // â NaN (errore, non Ã¨ un numero)
console.log(Number(true));    // â 1
console.log(Number(false));   // â 0
console.log(parseInt("100px")); // â 100 (estrae il numero)
console.log(parseFloat("3.14px")); // â 3.14
```

ğŸ“Œ **Differenze tra `Number()` e `parseInt()/parseFloat()`:**

|Metodo|Descrizione|
|---|---|
|`Number("123abc")`|Restituisce `NaN`, perchÃ© la stringa contiene lettere|
|`parseInt("123abc")`|Restituisce `123`, perchÃ© estrae solo la parte numerica|
|`parseFloat("3.14px")`|Restituisce `3.14`, ignorando il testo successivo|

---

### âœ… **Convertire in Booleano**

```js
console.log(Boolean(0));     // â false
console.log(Boolean(1));     // â true
console.log(Boolean(""));    // â false
console.log(Boolean("ciao"));// â true
console.log(Boolean([]));    // â true (array vuoto Ã¨ truthy)
console.log(Boolean({}));    // â true (oggetto vuoto Ã¨ truthy)
```

---

## ğŸ”¹ 3. Esempi pratici

### ğŸ“Œ **Evitare errori nelle conversioni**

âŒ **Sbagliato:**

```js
let input = prompt("Inserisci un numero:");
console.log(input + 5); // Se l'utente inserisce "10", il risultato sarÃ  "105"
```

âœ… **Corretto (con conversione esplicita):**

```js
let input = prompt("Inserisci un numero:");
let numero = Number(input);
console.log(numero + 5); // â Se l'utente inserisce "10", il risultato sarÃ  15
```

---

### ğŸ“Œ **Usare conversioni per controllare input**

Se un utente deve inserire un numero, possiamo verificare che sia corretto:

```js
let valore = prompt("Inserisci un numero:");
if (!isNaN(Number(valore))) {
    console.log("Hai inserito un numero valido:", Number(valore));
} else {
    console.log("Errore: devi inserire un numero!");
}
```

ğŸ“Œ **Cosa fa questo codice?**

- Converte lâ€™input in un numero.
- Controlla se il valore Ã¨ **NaN** (`isNaN()` ritorna `true` se il valore non Ã¨ un numero).

---

### ğŸ“Œ **Esempio pratico: convertire input per una somma**

```js
let num1 = Number(prompt("Inserisci il primo numero:"));
let num2 = Number(prompt("Inserisci il secondo numero:"));

let somma = num1 + num2;
console.log(`La somma Ã¨: ${somma}`);
```

ğŸ“Œ **Senza `Number()`, il codice concatenerebbe le stringhe invece di sommarle!**

---

## Collegamenti utili

- **Prossimo argomento â†’ [[1.6 Strutture di controllo]]**
- **Ripassa i tipi di dati â†’ [[1.4 Tipi di dati]]**

---
